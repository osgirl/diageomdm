<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../../WEB-INF/templates/diageoWebTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
        <h:form id="formQuerySegment">
            <div style="left: 50%;-webkit-transform: translate(-50%);position: absolute;width:80%">
                <h:panelGroup id="pgSegment">
                    <h:panelGrid columns="4">
                        <h:outputLabel value="#{msg.can_canal}"/>
                        <p:selectOneMenu style="width: 80%" value="#{segmentParametersBean.channelSelected}" converter="channelConverter">
                            <f:selectItems value="#{segmentParametersBean.listChannel}" var="cha" itemLabel="#{cha.nameChannel}"/>
                            <p:ajax update="formQuerySegment:pgSegment" process="@this" listener="#{segmentParametersBean.listenerChannel()}"/>
                        </p:selectOneMenu>
                        <h:outputLabel value="#{msg.sub_subcanal}"/>
                        <p:selectOneMenu style="width: 80%" value="#{segmentParametersBean.subChannelSelected}" converter="subChannelConverter">
                            <f:selectItems value="#{segmentParametersBean.listSubChannel}" var="subcha" itemLabel="#{subcha.nameSubChannel}"/>
                            <p:ajax update="formQuerySegment:pgSegment" process="@this" listener="#{segmentParametersBean.listenerSubChannel()}"/>
                        </p:selectOneMenu>
                        <h:outputLabel value="#{msg.seg_segmento}"/>
                        <p:selectOneMenu style="width: 80%" converter="segmentoConverter" value="#{segmentParametersBean.segmentSelected}">
                            <f:selectItems value="#{segmentParametersBean.listSegment}" var="seg" itemLabel="#{seg.nameSegment}"/>
                            <p:ajax update="formQuerySegment:pgSegment" process="@this" listener="#{segmentParametersBean.listenerSegment()}"/>
                        </p:selectOneMenu>
                        <h:outputLabel value="#{msg.sub_seg_subsegmento}"/>
                        <p:selectOneMenu style="width: 80%" value="#{segmentParametersBean.subSegmentSelected}" converter="subSegmentoConverter">
                            <f:selectItems value="#{segmentParametersBean.listSubSegment}" var="subseg" itemLabel="#{subseg.nameSubsegment}"/>
                        </p:selectOneMenu>      
                    </h:panelGrid>
                </h:panelGroup>
                <br/>
                <p:commandButton value="#{msg.btn_add}" styleClass="button"/>
                <br/>
                <p:dataTable id="dtQuerySegment" style="width: 90%">
                    <p:column headerText="#{msg.can_canal}"></p:column>
                    <p:column headerText="#{msg.sub_subcanal}"></p:column>
                    <p:column headerText="#{msg.seg_segmento}"></p:column>
                    <p:column headerText="#{msg.sub_seg_subsegmento}"></p:column>
                </p:dataTable>
            </div>
        </h:form>
    </ui:define>

</ui:composition>
